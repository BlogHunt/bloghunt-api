{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}Documentation{% endblock %}

{% block content %}
    <div class="h1 text-center">
        Documentation
    </div>
    <div class="container-fluid" style="margin-bottom:50px;">
        <!-- Usage -->
        <div class="h2">
            Usage
        </div>
        <p>Both the website and REST API are free to use. Results of the API can be used in both commercial and non-commercial projects, but commercial projects are <strong>required</strong> to cite that the results came from "Pine Search". In these cases we'd ask that you also provide a link to our site. We support the open web and we'd love it if the open web supported us too.</p>
        <!-- Feed Spec -->
        <div class="h2">
            How we parse feeds
        </div>
        <p>Pine uses only the data found in the feed. No trips are made to the host site as RSS (and soon JSON Feed) provide all the information needed.</p>
        <p>Below is a list of feed attributed and how they are retrieved from the given RSS (JSON Feed support coming soon).</p>
        <ul>
            <li><code>rss_url</code>
                Gathered from the URL where the feed was found.
            </li>
            <li><code>title</code>
                For RSS feeds, this corresponds to the <code>&lt;title&gt;</code> element.
                <p><b>Note:</b> This element is recommended to not have HTML in it as it will not be rendered.</p>
            </li>
            <li><code>description</code>
                For RSS feeds, this corresponds to the <code>&lt;description&gt;</code> element.
                <p><b>Note:</b> This element is recommended to not have HTML in it as it will not be rendered.</p>
            </li>
            <li><code>image</code>
                For RSS feeds, this corresponds to the <code>&lt;url&gt;</code> element inside of the root <code>&lt;image&gt;</code> element.
                <p><b>Note:</b> It is strongly recommended that images be square in shape.</p>
            </li>
            <li><code>cloud</code>
                For RSS feeds, this corresponds to the <code>&lt;cloud&gt;</code> element.
                <p><b>Note:</b> Wordpress implements this feature automatically and it is highly recommended for Microblogs since it allows support for user-user replies.</p>
            </li>
            <li><code>link</code>
                For RSS feeds, this corresponds to the <code>&lt;link&gt;</code> element.
            </li>
        </ul>
        <p><b>Important:</b> It is strongly recommended that all resources linked to in a given feed are served over HTTPS to protect users privacy.</p>

        <!-- API Documentation -->
        <div class="h2">
            API Documentation
        </div>
        <p>As part of our the goal of providing a global search index of blogs, Pine features a simple, free, and open REST API for developers to use. The API is read-only so you'll still need to use the site to submit feeds. Access to the API does not require a login token or OAuth key.</p>
        <p>The REST API follows the same structure as the HTML site: a home page, feed search, feed detail pages, and tag based search. In each of these cases appending <code>.json</code> or adding the query parameter <code>format=json</code> to any read-only page should be sufficient. For convenience, at the bottom of most pages is a link to view the same request using the REST API.</p>
        <p>All requests to the API and site are rate limited to <code>60/minute</code> to prevent runaway performance degradation, but even with those restrictions in place please be nice to our server. If you need more requests please contact support and we'll be happy to talk to you about accommodating your needs.</p>
        <p><b>Note: </b>The API is still under development, and the format is subject to change, but we will try to maintain backwards compatibility in most cases. Fields may be added to responses, but rarely removed or changed unless absolutely necessary.</p>
        <div class="h3">
            Endpoints
        </div>
        <ul>
            <li><code>/.json</code>
                This is the root endpoint url. This endpoint contains a series of links to other public parts of the API.
            </li>
            <li><code>/feeds.json?search=</code>
                This endpoint requires a search query parameter containing a given user's query string (URL encoded of course) and returns a list of paginated results for feeds matching the query. Each feed in result set also includes a detail link (see below) which can be used to retrieve the feed's information directly.
            </li>
            <li><code>/feeds/{id}.json</code>
                This endpoint returns the details for the feed indicated by the <code>{id}</code> in the URL and contains all of the information about a feed including when the feed claims that it was last updated.
            </li>
            <li><code>/tags.json</code>
                This endpoint provides links to all of the different tags and their associated Top Charts of Feeds.
            <li><code>/tags/{id}.json</code>
                A given tag and it's Top Charts list and further details will be under this endpoint. Here you'll find a list of feeds sorted by number of recommendations that are classified under the given tag as well as some additional information about the tag itself.
            </li>
        </ul>
        <!-- Support -->
        <div class="h2">
            Getting help
        </div>
        <p>For any support questions, including incorrectly parsed feeds, API limit inquiries and anything else, please email us at <a href="mailto:support@pinesearch.com">support@pinesearch.com</a>
        </p>
    </div>
{% endblock %}

